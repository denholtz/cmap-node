(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{410:function(e,t,a){e.exports=a(739)},415:function(e,t,a){},537:function(e,t){},539:function(e,t){},553:function(e,t,a){},704:function(e,t){},705:function(e,t){},706:function(e,t){},739:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),i=a(47),s=a.n(i),o=(a(415),a(246));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c=a(50),l=a(95),u=a(18),p="CATALOG_RETRIEVAL_REQUEST_SEND",d={inProgress:"inProgress",failed:"failed",succeeded:"succeeded",expired:"expired"},m="LOG_OUT",g="LOGIN_REQUEST_SEND",b="REGISTRATION_REQUEST_SEND",f="VALIDATION_REQUEST_SEND",E="KEY_RETRIEVAL_REQUEST_SEND",h="KEY_CREATION_REQUEST_SEND",O={catalogRequestState:null,loginDialogIsOpen:!1,registrationActiveStep:0,userLoginState:null,userLoginError:null,userValidationState:null,userValidationError:null,userRegistrationState:null,apiKeyRetrievalState:null,apiKeyCreationState:null},S=a(367),y=a(96),R=a.n(y),v={catalogRequestState:null,catalog:null,loginDialogIsOpen:!1,registrationActiveStep:0,snackbarIsOpen:!1,snackbarMessage:null,user:JSON.parse(R.a.get("UserInfo")||null),apiKeys:null,apiKeyRetrievalState:null,apiKeyCreationState:null,userLoginState:null,userValidationState:null,userRegistrationState:null},j=Object(S.a)(v,function(e,t){switch(t.type){case"CATALOG_RETRIEVAL_REQUEST_SUCCESS":return Object(u.a)({},e,{catalogRequestState:d.succeeded,catalog:t.payload.catalog});case"CATALOG_RETRIEVAL_REQUEST_FAILURE":return Object(u.a)({},e,{catalogRequestState:d.failed});case"CATALOG_RETRIEVAL_REQUEST_PROCESSING":return Object(u.a)({},e,{catalogRequestState:d.inProgress});default:return e}},function(e,t){switch(t.type){case"LOGIN_REQUEST_PROCESSING":return Object(u.a)({},e,{userLoginState:d.inProgress});case"LOGIN_REQUEST_SUCCESS":return Object(u.a)({},e,{userLoginState:d.succeeded,userLoginError:null});case"LOGIN_REQUEST_FAILURE":return Object(u.a)({},e,{userLoginState:d.failed});case"LOGIN_REQUEST_CLEAR_ERROR":return Object(u.a)({},e,{userLoginError:null});case"STORE_INFO":return Object(u.a)({},e,{user:t.payload.user});case"DESTROY_INFO":return Object(u.a)({},e,{user:null});case"VALIDATION_REQUEST_PROCESSING":return Object(u.a)({},e,{userValidationState:d.inProgress});case"VALIDATION_REQUEST_FAILURE":return Object(u.a)({},e,{userValidationState:d.failed});case"VALIDATION_REQUEST_SUCCESS":return Object(u.a)({},e,{userValidationState:null});case"REGISTRATION_REQUEST_PROCESSING":return Object(u.a)({},e,{userRegistrationState:d.inProgress});case"REGISTRATION_REQUEST_FAILURE":return Object(u.a)({},e,{userRegistrationState:d.failed});case"REGISTRATION_REQUEST_SUCCESS":return Object(u.a)({},e,{userRegistrationState:d.succeeded});case"KEY_RETRIEVAL_REQUEST_SUCCESS":return Object(u.a)({},e,{apiKeys:t.payload.keys});case"KEY_RETRIEVAL_REQUEST_FAILURE":return Object(u.a)({},e,{apiKeyRetrievalState:d.failed});case"KEY_CREATION_REQUEST_PROCESSING":return Object(u.a)({},e,{apiKeyCreationState:d.inProgress});case"KEY_CREATION_REQUEST_FAILURE":return Object(u.a)({},e,{apiKeyCreationState:d.failed});case"KEY_CREATION_REQUEST_SUCCESS":return Object(u.a)({},e,{apiKeyCreationState:d.succeeded});default:return e}},function(e,t){switch(t.type){case"INTERFACE_SHOW_LOGIN_DIALOG":return Object(u.a)({},e,{loginDialogIsOpen:!0});case"INTERFACE_HIDE_LOGIN_DIALOG":return Object(u.a)({},e,{loginDialogIsOpen:!1,userLoginError:null});case"REGISTRATION_NEXT_ACTIVE_STEP":return Object(u.a)({},e,{registrationActiveStep:e.registrationActiveStep+1});case"REGISTRATION_PREVIOUS_ACTIVE_STEP":return Object(u.a)({},e,{registrationActiveStep:e.registrationActiveStep-1});case"RESTORE_INTERFACE_DEFAULTS":return Object(u.a)({},e,O);case"SNACKBAR_OPEN":return Object(u.a)({},e,{snackbarIsOpen:!0,snackbarMessage:t.payload.message});case"SNACKBAR_CLOSE":return Object(u.a)({},e,{snackbarIsOpen:!1});default:return e}}),C=a(387),I=a(23),T=a.n(I),_=a(17),w=function(){return{type:"LOGIN_REQUEST_PROCESSING"}},A=function(e){return{type:"LOGIN_REQUEST_FAILURE"}},N=function(){return{type:"LOGIN_REQUEST_SUCCESS"}},k=function(e){return{type:"STORE_INFO",payload:{user:e}}},x=function(){return{type:m}},L=function(){return{type:"DESTROY_INFO"}},D=function(){return{type:"VALIDATION_REQUEST_PROCESSING"}},U=function(){return{type:"VALIDATION_REQUEST_FAILURE"}},P=function(){return{type:"VALIDATION_REQUEST_SUCCESS"}},G=function(){return{type:"REGISTRATION_REQUEST_PROCESSING"}},F=function(){return{type:"REGISTRATION_REQUEST_FAILURE"}},V=function(){return{type:"REGISTRATION_REQUEST_SUCCESS"}},K=function(){return{type:E}},Q=function(e){return{type:"KEY_RETRIEVAL_REQUEST_SUCCESS",payload:{keys:e}}},q=function(){return{type:"KEY_RETRIEVAL_REQUEST_FAILURE"}},M=function(){return{type:"KEY_CREATION_REQUEST_PROCESSING"}},z=function(){return{type:"KEY_CREATION_REQUEST_SUCCESS"}},B=function(){return{type:"CATALOG_RETRIEVAL_REQUEST_PROCESSING"}},Y=function(e){return{type:"CATALOG_RETRIEVAL_REQUEST_SUCCESS",payload:{catalog:e}}},W=function(){return{type:"CATALOG_RETRIEVAL_REQUEST_FAILURE"}},H=function(){return{type:"INTERFACE_SHOW_LOGIN_DIALOG"}},$=function(){return{type:"INTERFACE_HIDE_LOGIN_DIALOG"}},J=function(){return{type:"REGISTRATION_NEXT_ACTIVE_STEP"}},Z=function(){return{type:"RESTORE_INTERFACE_DEFAULTS"}},X=function(e){return{type:"SNACKBAR_OPEN",payload:{message:e}}},ee=a(186),te=a(368),ae=a.n(te),ne="http://simonscmap.io",re={credentials:"include"},ie=Object(u.a)({},re,{method:"POST",headers:{"Content-Type":"application/json"}}),se={user:{},dataRetrieval:{},catalog:{}};se.user.login=function(e){return fetch(ne+"/user/signin",Object(u.a)({},ie,{body:JSON.stringify(e)}))},se.user.logout=function(){return fetch(ne+"/user/signout",re)},se.user.register=function(e){return fetch(ne+"/user/signup",Object(u.a)({},ie,{body:JSON.stringify(e)}))},se.user.validate=function(e){return fetch(ne+"/user/validate",Object(u.a)({},ie,{body:JSON.stringify(e)}))},se.catalog.retrieve=Object(ee.a)(T.a.mark(function e(){var t,a,n,r,i,s,o,c;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=new TextDecoder,a=[],(n=ae.a.parse()).on("data",function(e){a.push(e)}),e.next=6,fetch(ne+"/catalog/",re);case 6:if((r=e.sent).ok){e.next=9;break}return e.abrupt("return",!1);case 9:i=r.body,s=i.getReader(),o=!1;case 12:if(o){e.next=20;break}return e.next=15,s.read();case 15:(c=e.sent).done?o=!0:n.write(t.decode(c.value)),e.next=12;break;case 20:return e.abrupt("return",a);case 21:case"end":return e.stop()}},e)})),se.user.keyRetrieval=Object(ee.a)(T.a.mark(function e(){var t;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(ne+"/user/retrieveapikeys",re);case 2:if((t=e.sent).ok){e.next=5;break}return e.abrupt("return",!1);case 5:return e.next=7,t.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e)})),se.user.keyCreation=function(){var e=Object(ee.a)(T.a.mark(function e(t){return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(ne+"/user/generateapikey?description=".concat(t.trim()),re);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();var oe=se,ce=T.a.mark(ve),le=T.a.mark(je),ue=T.a.mark(Ce),pe=T.a.mark(Ie),de=T.a.mark(Te),me=T.a.mark(_e),ge=T.a.mark(we),be=T.a.mark(Ae),fe=T.a.mark(Ne),Ee=T.a.mark(ke),he=T.a.mark(xe),Oe=T.a.mark(Le),Se=T.a.mark(De),ye=T.a.mark(Ue),Re=T.a.mark(Pe);function ve(e){var t;return T.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(_.c)(w());case 2:return a.next=4,Object(_.b)(oe.user.login,e.payload);case 4:if(!a.sent.ok){a.next=17;break}return t=JSON.parse(R.a.get("UserInfo")),a.next=9,Object(_.c)(N());case 9:return a.next=11,Object(_.c)($());case 11:return a.next=13,Object(_.c)(k(t));case 13:return a.next=15,Object(_.c)(X("Login was successful!"));case 15:a.next=21;break;case 17:return a.next=19,Object(_.c)(A());case 19:return a.next=21,Object(_.c)(X("Login failed."));case 21:case"end":return a.stop()}},ce)}function je(){return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_.b)(oe.user.logout);case 2:return e.next=4,Object(_.c)(L());case 4:return e.next=6,Object(_.c)(X("You have logged out."));case 6:case"end":return e.stop()}},le)}function Ce(e){return T.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(_.c)(G());case 2:return t.next=4,Object(_.b)(oe.user.register,e.payload);case 4:if(!t.sent.ok){t.next=16;break}return t.next=8,Object(_.c)(J());case 8:return t.next=10,Object(_.c)(V());case 10:return t.next=12,Object(_.c)(X("Registration was successful. Please log in."));case 12:return t.next=14,Object(_.c)(H());case 14:t.next=20;break;case 16:return t.next=18,Object(_.c)(F());case 18:return t.next=20,Object(_.c)(X("Registration failed."));case 20:case"end":return t.stop()}},ue)}function Ie(e){var t;return T.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(_.c)(D());case 2:return a.next=4,Object(_.b)(oe.user.validate,e.payload);case 4:return t=a.sent,a.next=7,t.json();case 7:if(!a.sent){a.next=15;break}return a.next=11,Object(_.c)(P());case 11:return a.next=13,Object(_.c)(J());case 13:a.next=17;break;case 15:return a.next=17,Object(_.c)(U());case 17:case"end":return a.stop()}},pe)}function Te(e){var t;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_.c)(B());case 2:return e.next=4,Object(_.b)(oe.catalog.retrieve);case 4:if(t=e.sent){e.next=10;break}return e.next=8,Object(_.c)(W());case 8:e.next=12;break;case 10:return e.next=12,Object(_.c)(Y(t));case 12:case"end":return e.stop()}},de)}function _e(e){var t;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_.b)(oe.user.keyRetrieval);case 2:if(t=e.sent){e.next=10;break}return e.next=6,Object(_.c)(q());case 6:return e.next=8,Object(_.c)(X("API Key Retrieval Failed"));case 8:e.next=12;break;case 10:return e.next=12,Object(_.c)(Q(t.keys));case 12:case"end":return e.stop()}},me)}function we(e){return T.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(_.c)(M());case 2:return t.next=4,Object(_.b)(oe.user.keyCreation,e.payload.description);case 4:if(t.sent.ok){t.next=10;break}return t.next=8,Object(_.c)(X("We were unable to create a new API key."));case 8:t.next=16;break;case 10:return t.next=12,Object(_.c)(X("A new API key was created"));case 12:return t.next=14,Object(_.c)(z());case 14:return t.next=16,Object(_.c)(K());case 16:case"end":return t.stop()}},ge)}function Ae(){return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_.d)(g,ve);case 2:case"end":return e.stop()}},be)}function Ne(){return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_.d)(m,je);case 2:case"end":return e.stop()}},fe)}function ke(){return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_.d)(b,Ce);case 2:case"end":return e.stop()}},Ee)}function xe(){return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_.d)(f,Ie);case 2:case"end":return e.stop()}},he)}function Le(){return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_.d)(p,Te);case 2:case"end":return e.stop()}},Oe)}function De(){return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_.d)(E,_e);case 2:case"end":return e.stop()}},Se)}function Ue(){return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_.d)(h,we);case 2:case"end":return e.stop()}},ye)}function Pe(){return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_.a)([Ae(),ke(),xe(),Ne(),Le(),De(),Ue()]);case 2:case"end":return e.stop()}},Re)}var Ge=Object(C.a)(),Fe=Object(l.d)(j,Object(l.a)(Ge));Ge.run(Pe);var Ve=Fe,Ke=a(43),Qe=a(49),qe=a(45),Me=a(44),ze=a(46),Be=a(36),Ye=a(181),We=a.n(Ye),He=(a(553),a(97)),$e=a(68),Je=a(78),Ze=a.n(Je),Xe=a(81),et=a.n(Xe),tt=a(182),at=a.n(tt),nt=a(183),rt=a.n(nt),it=a(89),st=a.n(it),ot=a(370),ct=a.n(ot),lt=a(141),ut=a.n(lt),pt=a(80),dt=a.n(pt),mt=a(55),gt=a.n(mt),bt=a(369),ft=a.n(bt),Et=a(61),ht=a.n(Et),Ot=a(116),St=a.n(Ot),yt=function(e){return r.a.createElement(St.a,{size:e.size})},Rt={keyRetrievalRequestSend:K,keyCreationRequestSend:function(e){return{type:h,payload:{description:e}}}},vt=function(e){function t(e){var a;return Object(Ke.a)(this,t),(a=Object(qe.a)(this,Object(Me.a)(t).call(this,e))).componentDidMount=function(){a.props.apiKeys||a.props.keyRetrievalRequestSend()},a.handleClick=function(){a.props.keyCreationRequestSend(a.state.description)},a.handleChange=function(e){a.setState(Object(u.a)({},a.state,{description:e.target.value}))},a.state={description:""},a}return Object(ze.a)(t,e),Object(Qe.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(r.a.Fragment,null,this.props.apiKeys?r.a.createElement(Ze.a,{className:e.root},r.a.createElement(gt.a,{variant:"subtitle1",className:e.apiKeyTableHeader},"Your API Keys"),r.a.createElement(ft.a,null),r.a.createElement(at.a,{className:e.table},r.a.createElement(ct.a,null,r.a.createElement(ut.a,null,r.a.createElement(st.a,{variant:"head",align:"center"},"Description"),r.a.createElement(st.a,{variant:"head",align:"center"},"Key (hover mouse to view)"))),r.a.createElement(rt.a,null,this.props.apiKeys.map(function(t,a){return r.a.createElement(ut.a,{key:a},r.a.createElement(st.a,{align:"center"},t.Description),r.a.createElement(st.a,{align:"center",className:e.showChildOnHover},r.a.createElement("span",{className:e.keyTableCell},t.Api_Key)))})))):"",r.a.createElement(Ze.a,{className:e.root},r.a.createElement(gt.a,{variant:"subtitle1"},"Generate a new API key"),r.a.createElement(ht.a,{container:!0,alignItems:"center",justify:"center",spacing:16},r.a.createElement(ht.a,{item:!0},r.a.createElement(dt.a,{margin:"normal",id:"description",type:"text",variant:"outlined",name:"filterText",value:this.state.description,onChange:this.handleChange,placeholder:"Key Description",className:e.descriptionField})),r.a.createElement(ht.a,{item:!0},r.a.createElement(et.a,{variant:"contained",disabled:this.state.description.length<1,color:"primary",onClick:this.handleClick},"Generate API Key"))),this.props.apiKeyCreationState===d.inProgress?r.a.createElement(yt,{size:18}):"",this.props.apiKeyCreationState===d.failed?r.a.createElement("span",null,"Key creation failed"):""))}}]),t}(n.Component),jt=Object(c.b)(function(e,t){return{apiKeys:e.apiKeys,apiKeyCreationState:e.apiKeyCreationState}},Rt)(Object(Be.withStyles)(function(e){return{root:{width:"800px",marginTop:3*e.spacing.unit,margin:"auto",paddingTop:2*e.spacing.unit},table:{minWidth:700},apiKeyTableHeader:{marginBottom:2*e.spacing.unit},keyTableCell:{visibility:"hidden"},showChildOnHover:{"&:hover span":{visibility:"visible"}}}})(vt)),Ct=function(e){return r.a.createElement("p",null,"This feature requires login. Please log in.")},It={showLoginDialog:H},Tt=function(e){function t(){return Object(Ke.a)(this,t),Object(qe.a)(this,Object(Me.a)(t).apply(this,arguments))}return Object(ze.a)(t,e),Object(Qe.a)(t,[{key:"componentDidMount",value:function(){this.props.user||this.props.showLoginDialog()}},{key:"render",value:function(){return this.props.user?r.a.createElement(r.a.Fragment,null,this.props.user&&r.a.createElement(jt,null)):r.a.createElement(Ct,null)}}]),t}(n.Component),_t=Object(c.b)(function(e,t){return{user:e.user}},It)(Object(Be.withStyles)(function(e){return{}})(Tt)),wt=a(371),At=(a(692),a(693),[["Variable Name","variable"],["Spatial Resolution","spatialResolution"],["Temporal Resolution","temporalResolution"],["Unit","unit"],["Process Level","processLevel"],["Study Domain","studyDomain"],["SQL Table Name","tableName"]]),Nt=Object(Be.withStyles)(function(e){return{title:{marginBottom:e.spacing.unit},wrapper:{width:"90%",margin:"-10px auto 0px auto",height:"100%"},infoCard:{padding:2*e.spacing.unit,width:"100%",height:"100%"},gridClass:{marginTop:2*e.spacing.unit,height:"100%"},gridItem:{height:"90%",display:"flex",alignItems:"center",justifyContent:"center"},datasetDescriptionWrapper:{whiteSpace:"normal",height:"100%",overflow:"auto"},datasetDescription:{marginBottom:2*e.spacing.unit,marginTop:e.spacing.unit},vizSampleImage:{width:"90%"},variableDetailTable:{marginLeft:2*e.spacing.unit,marginRight:2*e.spacing.unit},variableDetailTableRow:{height:"32px"}}})(function(e){var t=e.classes;return console.log(e.data),r.a.createElement("div",{className:t.wrapper},r.a.createElement(ht.a,{container:!0,spacing:8,className:t.gridClass},r.a.createElement(ht.a,{item:!0,xs:3,className:t.gridItem},r.a.createElement("img",{src:"http://simonscmap.io/images/catalog/viz_sample.png",alt:"Sample Visualization",className:t.vizSampleImage})),r.a.createElement(ht.a,{item:!0,xs:4,className:t.gridItem},r.a.createElement("div",{className:t.datasetDescriptionWrapper},r.a.createElement(gt.a,{variant:"body2",className:t.datasetDescription},e.data.datasetDescription),r.a.createElement(gt.a,{variant:"caption"},"Source: ",e.data.dataSource),r.a.createElement(gt.a,{variant:"caption"},"Distributor: ",e.data.distributor))),r.a.createElement(ht.a,{item:!0,xs:5,className:t.gridItem},r.a.createElement(at.a,{className:t.variableDetailTable},r.a.createElement(rt.a,null,At.map(function(a,n){return r.a.createElement(ut.a,{key:n,className:t.variableDetailTableRow},r.a.createElement(st.a,{padding:"dense"},a[0]),r.a.createElement(st.a,{padding:"dense"},e.data[a[1]]))}))))))}),kt={template:'<div style="height: 100%; box-sizing: border-box" class="testClass">  <div style="height: 10%;">Call Details</div>  <div ref="eDetailGrid" style="height: 90%;"></div></div>'},xt=[{headerName:"Long Name",field:"longName",sortable:!0,filter:!0,tooltipField:"longName",cellRenderer:"agGroupCellRenderer",cellStyle:{textAlign:"left"}},{headerName:"Variable",field:"variable",sortable:!0,filter:!0,hide:!0},{headerName:"Table Name",field:"tableName",sortable:!0,filter:!0,hide:!0,enableRowGroup:!0},{headerName:"Dataset Name",field:"datasetName",sortable:!0,filter:!0,enableRowGroup:!0,tooltipField:"datasetName"},{headerName:"Make",field:"make",sortable:!0,filter:!0,enableRowGroup:!0},{headerName:"Sensor",field:"sensor",sortable:!0,filter:!0,enableRowGroup:!0},{headerName:"Study Domain",field:"studyDomain",sortable:!0,filter:!0,hide:!0,enableRowGroup:!0},{headerName:"Process Level",field:"processLevel",sortable:!0,filter:!0,hide:!0,enableRowGroup:!0},{headerName:"Spatial Resolution",field:"spatialResolution",sortable:!0,filter:!0,hide:!0,enableRowGroup:!0},{headerName:"Temporal Resolution",field:"temporalResolution",sortable:!0,filter:!0,hide:!0,enableRowGroup:!0},{headerName:"Unit",field:"unit",sortable:!0,filter:!0,hide:!0},{headerName:"Key Words",field:"keywords",hide:!0}],Lt={resizable:!0},Dt={cellStyle:{textAlign:"left"}},Ut=function(e){function t(){var e,a;Object(Ke.a)(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(a=Object(qe.a)(this,(e=Object(Me.a)(t)).call.apply(e,[this].concat(i)))).state={filterText:""},a.handleChange=function(e){a.setState(Object(u.a)({},a.state,{filterText:e.target.value})),a.gridApi.setQuickFilter(e.target.value)},a.onGridReady=function(e){a.gridApi=e.api,a.columnApi=e.columnApi,a.gridApi.sizeColumnsToFit()},a.handleColumnRowGroupChanged=function(e){e.columns.forEach(function(e){e.columnApi.setColumnVisible(e.colId,!1)})},a.render=function(){var e=a.props.classes;return r.a.createElement("div",{className:e.gridWrapper+" ag-theme-material"},r.a.createElement(dt.a,{autoFocus:!0,margin:"normal",id:"name",type:"text",variant:"outlined",name:"filterText",value:a.state.filterText,onChange:a.handleChange,placeholder:"Filter Variables"}),r.a.createElement(wt.AgGridReact,{columnDefs:xt,defaultColDef:Lt,rowData:a.props.catalog,onGridReady:a.onGridReady,suppressDragLeaveHidesColumns:!0,rowGroupPanelShow:"always",groupMultiAutoColumn:!0,onColumnRowGroupChanged:a.handleColumnRowGroupChanged,autoGroupColumnDef:Dt,enableBrowserTooltips:!0,masterDetail:!0,frameworkComponents:{myDetailCellRenderer:Nt},detailCellRenderer:"myDetailCellRenderer",detailRowHeight:280,detailCellRendererParams:kt}))},a}return Object(ze.a)(t,e),t}(n.Component),Pt=Object(Be.withStyles)(function(e){return{gridWrapper:{height:"600px",width:"80%",margin:"30px auto"}}})(Ut),Gt={retrievalRequestSend:function(){return{type:p}}},Ft=function(e){function t(){var e,a;Object(Ke.a)(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(a=Object(qe.a)(this,(e=Object(Me.a)(t)).call.apply(e,[this].concat(i)))).componentDidMount=function(){a.props.catalog||a.props.retrievalRequestSend()},a.determineContent=function(){return a.props.catalog?r.a.createElement(Pt,{catalog:a.props.catalog}):a.props.catalogRequestState===d.inProgress?r.a.createElement(yt,{size:24}):a.props.catalogRequestState===d.failed?r.a.createElement("p",null,"Failed to get catalog. Have you tried turning it off and then on again?"):r.a.createElement("p",null,"I don't know how we got here. Please debug the catalog retrieval process.")},a}return Object(ze.a)(t,e),Object(Qe.a)(t,[{key:"render",value:function(){var e=this.determineContent();return r.a.createElement(r.a.Fragment,null,e)}}]),t}(n.Component),Vt=Object(c.b)(function(e,t){return{catalogRequestState:e.catalogRequestState,catalog:e.catalog}},Gt)(Object(Be.withStyles)(function(e){return{}})(Ft)),Kt=a(251),Qt=a(373),qt=a.n(Qt),Mt=a(374),zt=a.n(Mt),Bt=a(375),Yt=a.n(Bt),Wt=a(372),Ht=a.n(Wt),$t=Object(Be.withStyles)(function(e){return{registrationCard:{marginTop:e.spacing.unit,marginBottom:e.spacing.unit,height:"200px"},textField:{margin:e.spacing.unit,width:"80%"}}})(function(e){var t=e.classes,a=Object.keys(e.inputFieldState);return r.a.createElement(Ht.a,{className:t.registrationCard},r.a.createElement(ht.a,{container:!0,spacing:16},a.map(function(n,i){return r.a.createElement(ht.a,{key:i,item:!0,xs:a.length>2?6:12},r.a.createElement(dt.a,{key:i,name:e.inputFieldInfo[n].name,label:e.inputFieldInfo[n].label,value:e.inputFieldState[n].value,className:t.textField,onChange:e.onChange,type:e.inputFieldInfo[n].type,error:!e.inputFieldState[n].valid,helperText:e.inputFieldState[n].valid?" ":e.inputFieldInfo[n].requirement}))})))}),Jt={registrationNextActiveStep:J,registrationPreviousActiveStep:function(){return{type:"REGISTRATION_PREVIOUS_ACTIVE_STEP"}},userRegistrationRequestSend:function(e){return{type:b,payload:e}},userValidationRequestSend:function(e,t){return{type:f,payload:{username:e,email:t}}}},Zt=function(){return[{firstName:{label:"First Name*",name:"firstName",type:"text",requirement:"Must be 2 or more alphabetical characters.",optional:!1},lastName:{label:"Last Name*",name:"lastName",type:"text",requirement:"Must be 2 or more alphabetical characters.",optional:!1},username:{label:"Username*",name:"username",type:"text",requirement:"Must be 6 to 20 alphanumeric characters.",optional:!1},email:{label:"Email Address*",name:"email",type:"email",requirement:"Must be a valid email address.",optional:!1}},{institute:{label:"Institute",name:"institute",type:"text",requirement:"Maximum length is 150 characters.",optional:!0},department:{label:"Department",name:"department",type:"text",requirement:"Maximum length is 150 characters.",optional:!0},country:{label:"Country",name:"country",type:"text",requirement:"Maximum length is 150 characters.",optional:!0}},{password:{label:"Password*",name:"password",type:"password",requirement:"Must be 8 to 32 characters with 1 number and 1 special character.",optional:!1},confirmPassword:{label:"Confirm Password*",name:"confirmPassword",type:"password",requirement:"Passwords must match.",optional:!1}}]},Xt=function(e){function t(e){var a;Object(Ke.a)(this,t),(a=Object(qe.a)(this,Object(Me.a)(t).call(this,e))).validateField=function(e,t){var n=t.trim(),r=/$^/;switch(e){case"firstName":case"lastName":r=/^[A-Za-z ]{2,40}$/;break;case"username":r=/^[A-Za-z0-9 ]{6,20}$/;break;case"email":r=/^([a-zA-Z0-9_\-\.]+)@([a-zA-Z0-9_\-\.]+)\.([a-zA-Z]{2,5})$/;break;case"institute":case"department":case"country":r=/^.{0,150}$/;break;case"password":r=/^(?=.*[0-9])(?=.*[.!@#$%^&*])[a-zA-Z0-9.!@#$%^&*]{8,32}$/,a.setState(function(e){var t=Object(Kt.a)(e.cards);return t[2].confirmPassword.valid=Boolean(t[2].confirmPassword.value===n),{cards:t}});break;case"confirmPassword":return a.state.cards[2].password.value===n}return r.test(n)},a.processStateToActionPayload=function(){var e={};return a.state.cards.forEach(function(t){Object.keys(t).forEach(function(a){e[a]=t[a].value})}),console.log("action payload"),console.log(e),e},a.currentCardIsValid=function(){var e=a.state.cards[a.props.registrationActiveStep];for(var t in e)if(!e[t].optional&&(!e[t].value||!e[t].valid))return!1;return!0},a.handleNext=function(){switch(a.props.registrationActiveStep){case 0:var e=a.state.cards[0].username.value,t=a.state.cards[0].email.value;a.props.userValidationRequestSend(e,t);break;case 1:a.props.registrationNextActiveStep();break;case 2:a.props.userRegistrationRequestSend(a.processStateToActionPayload());break;default:a.props.registrationNextActiveStep()}},a.handleBack=function(){a.props.registrationPreviousActiveStep()},a.handleChange=function(e){var t=e.target.value,n=e.target.name,r=a.validateField(n,t);a.setState(function(e){var i=Object(Kt.a)(e.cards);return i[a.props.registrationActiveStep][n]=Object(u.a)({},i[a.props.registrationActiveStep][n],{value:t,valid:r}),{cards:i}})};var n=[];return Zt().forEach(function(e){var t={};Object.keys(e).forEach(function(a){t[a]={value:"",valid:!0,optional:e[a].optional}}),n.push(t)}),a.state={cards:n},a}return Object(ze.a)(t,e),Object(Qe.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=["Your Information","Optional Organization Info","Security"],a=this.props.registrationActiveStep,n=Zt();return r.a.createElement("div",{className:e.root},r.a.createElement(qt.a,{activeStep:a},t.map(function(e,t){return r.a.createElement(zt.a,{key:e},r.a.createElement(Yt.a,null,e))})),r.a.createElement("div",null,a===t.length?r.a.createElement("div",null,r.a.createElement(gt.a,{className:e.instructions},"Registration Completed!")):r.a.createElement("div",null,r.a.createElement($t,{inputFieldState:Object(u.a)({},this.state.cards[this.props.registrationActiveStep]),inputFieldInfo:Object(u.a)({},n[this.props.registrationActiveStep]),onChange:this.handleChange}),r.a.createElement("div",null,r.a.createElement(et.a,{disabled:0===a,onClick:this.handleBack,className:e.button},"Back"),r.a.createElement(et.a,{variant:"contained",color:"primary",onClick:this.handleNext,className:e.button,disabled:!this.currentCardIsValid()||this.props.userValidationState===d.inProgress},a===t.length-1?"Finish":"Next"),this.props.userValidationState===d.inProgress&&r.a.createElement(St.a,{size:24,className:e.buttonProgress}),this.props.userValidationState===d.failed&&r.a.createElement("p",null,"That username or email is already in use. Please enter a different username or email address."),this.props.userRegistrationState===d.failed&&r.a.createElement("p",null,"Registration failed. Please try again.")))))}}]),t}(n.Component),ea=Object(c.b)(function(e,t){return{registrationActiveStep:e.registrationActiveStep,userValidationState:e.userValidationState,userRegistrationState:e.userRegistrationState}},Jt)(Object(Be.withStyles)(function(e){return{root:{width:"60%",margin:"5% auto"},button:{marginRight:e.spacing.unit},instructions:{marginTop:e.spacing.unit,marginBottom:e.spacing.unit},registrationCard:{marginTop:e.spacing.unit,marginBottom:e.spacing.unit},textField:{margin:e.spacing.unit,width:200},buttonProgress:{position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}})(Xt)),ta=function(e){function t(){return Object(Ke.a)(this,t),Object(qe.a)(this,Object(Me.a)(t).apply(this,arguments))}return Object(ze.a)(t,e),Object(Qe.a)(t,[{key:"render",value:function(){return r.a.createElement(ea,null)}}]),t}(n.Component),aa=a(250),na={latitude:51.47,longitude:.45,zoom:4,bearing:0,pitch:30},ra={showLoginDialog:H},ia=function(e){function t(){return Object(Ke.a)(this,t),Object(qe.a)(this,Object(Me.a)(t).apply(this,arguments))}return Object(ze.a)(t,e),Object(Qe.a)(t,[{key:"componentDidMount",value:function(){this.props.user||this.props.showLoginDialog()}},{key:"render",value:function(){var e=this.props.classes;return this.props.user?r.a.createElement("div",{className:e.deckWrapper},r.a.createElement(aa.b,{controller:!0,initialViewState:na},r.a.createElement(aa.a,{id:"base-map",data:"https://d2ad6b4ur7yvpq.cloudfront.net/naturalearth-3.3.0/ne_50m_admin_0_scale_rank.geojson",stroked:!0,filled:!0,lineWidthMinPixels:2,opacity:.4,getLineDashArray:[3,3],getLineColor:[60,60,60],getFillColor:[200,200,200]}))):r.a.createElement(Ct,null)}}]),t}(n.Component),sa=Object(c.b)(function(e,t){return{user:e.user}},ra)(Object(Be.withStyles)(function(e){return{deckWrapper:{width:"80%",height:"80%"}}})(ia)),oa=a(180),ca=a(384),la=a.n(ca),ua=a(383),pa=a.n(ua),da=a(385),ma=a.n(da),ga=a(83),ba=a.n(ga),fa=a(378),Ea=a.n(fa),ha=a(381),Oa=a.n(ha),Sa=a(380),ya=a.n(Sa),Ra=a(248),va=a.n(Ra),ja=a(379),Ca=a.n(ja),Ia={hideLoginDialog:$,showLoginDialog:H,logOut:x,userLoginRequestSend:function(e,t){return{type:g,payload:{username:e,password:t}}},restoreInterfaceDefaults:Z},Ta=function(e){function t(){var e,a;Object(Ke.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(qe.a)(this,(e=Object(Me.a)(t)).call.apply(e,[this].concat(r)))).handleLogin=function(e){a.props.userLoginRequestSend(a.props.username,a.props.password)},a.handleClose=function(){a.props.clearState(),a.props.hideLoginDialog(),a.props.restoreInterfaceDefaults()},a}return Object(ze.a)(t,e),Object(Qe.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(Ea.a,{open:this.props.loginDialogIsOpen,onClose:this.handleClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(Ca.a,{id:"form-dialog-title"},"Login"),r.a.createElement(ya.a,null,r.a.createElement(va.a,null,"Please enter your username and password to log in."),r.a.createElement(dt.a,{autoFocus:!0,margin:"normal",id:"username",label:"Username",type:"text",variant:"outlined",name:"username",value:this.props.username,onChange:this.props.handleChange}),r.a.createElement(dt.a,{margin:"normal",id:"name",label:"Password",type:"password",variant:"outlined",name:"password",value:this.props.password,onChange:this.props.handleChange}),r.a.createElement(Oa.a,null,r.a.createElement(et.a,{onClick:this.handleClose,color:"primary"},"Cancel"),r.a.createElement("div",{className:e.wrapper},r.a.createElement(et.a,{color:"primary",onClick:this.handleLogin,disabled:!this.props.username||!this.props.password},"Log In"),this.props.userLoginState===d.inProgress&&r.a.createElement(St.a,{size:24,className:e.buttonProgress}))),this.props.userLoginState===d.failed?r.a.createElement(va.a,null,"Login failed. Please try again."):""))}}]),t}(n.Component),_a=Object(c.b)(function(e,t){return{loginDialogIsOpen:e.loginDialogIsOpen,userLoginState:e.userLoginState,userLoginError:e.userLoginError}},Ia)(Object($e.e)(Object(Be.withStyles)(function(e){return{wrapper:{margin:e.spacing.unit,position:"relative"},buttonProgress:{position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}})(Ta))),wa={showLoginDialog:H,logOut:x,restoreInterfaceDefaults:Z},Aa=function(e){function t(e){var a;return Object(Ke.a)(this,t),(a=Object(qe.a)(this,Object(Me.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(oa.a)({},e.target.name,e.target.value))},a.handleLogOut=function(){a.clearState(),a.props.logOut(),a.props.restoreInterfaceDefaults()},a.clearState=function(){a.setState({username:"",password:""})},a.getCurrentPath=function(){switch(a.props.location.pathname){case"/apikeymanagement":return 0;case"/":return 1;case"/visualization":return 2;case"/register":return 3;default:return 0}},a.beepBoop=function(){console.log(a.props),R.a.set("hi","there"),R.a.get()},a.state={username:"",password:""},a}return Object(ze.a)(t,e),Object(Qe.a)(t,[{key:"render",value:function(){return r.a.createElement(pa.a,{position:"sticky"},r.a.createElement(la.a,null,r.a.createElement(ma.a,{value:this.getCurrentPath()||0,onChange:this.handleChange},r.a.createElement(ba.a,{key:"0",component:He.b,to:{pathname:"/apikeymanagement"},label:"API Keys",onClick:this.props.restoreInterfaceDefaults}),r.a.createElement(ba.a,{key:"1",component:He.b,to:{pathname:"/"},label:"Catalog",onClick:this.props.restoreInterfaceDefaults}),r.a.createElement(ba.a,{key:"2",component:He.b,to:{pathname:"/visualization"},label:"Visualization",onClick:this.props.restoreInterfaceDefaults}),this.props.user?"":r.a.createElement(ba.a,{key:"3",component:He.b,to:{pathname:"/register"},label:"Register",onClick:this.props.restoreInterfaceDefaults}),this.props.user?"":r.a.createElement(ba.a,{key:"4",label:"Log In",onClick:this.props.showLoginDialog}),this.props.user?r.a.createElement(ba.a,{key:"5",label:"Welcome ".concat(this.props.user.firstName," ").concat(this.props.user.lastName,"!")}):"",this.props.user?r.a.createElement(ba.a,{key:"4",label:"Log Out",onClick:this.handleLogOut}):"",r.a.createElement(ba.a,{key:"6",label:"Debug",onClick:this.beepBoop}))),r.a.createElement(_a,{clearState:this.clearState,username:this.state.username,password:this.state.password,handleChange:this.handleChange}))}}]),t}(n.Component),Na=Object(c.b)(function(e,t){return e},wa)(Object($e.e)(Object(Be.withStyles)(function(e){return{inlineBlock:{display:"inline-block"}}})(Aa))),ka=a(386),xa=a.n(ka),La={snackbarClose:function(){return{type:"SNACKBAR_CLOSE"}}},Da=Object(c.b)(function(e,t){return{snackbarIsOpen:e.snackbarIsOpen,snackbarMessage:e.snackbarMessage}},La)(function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(xa.a,{autoHideDuration:3500,message:e.snackbarMessage,onClose:e.snackbarClose,open:e.snackbarIsOpen}))}),Ua=function(e){return r.a.createElement(He.a,null,r.a.createElement(Na,null),r.a.createElement(Da,null),r.a.createElement($e.c,null,r.a.createElement($e.a,{exact:!0,path:"/apikeymanagement",component:_t}),r.a.createElement($e.a,{exact:!0,path:"/",component:Vt}),r.a.createElement($e.a,{exact:!0,path:"/register",component:ta}),r.a.createElement($e.a,{exact:!0,path:"/visualization",component:sa})))},Pa=Object(Be.createMuiTheme)({palette:{secondary:{main:We.a[900]},primary:{main:We.a[600]}},typography:{useNextVariants:!0,fontFamily:['"Lato"',"sans-serif"].join(",")},overrides:{MuiOutlinedInput:{input:{padding:"12px 14px"}},MuiFormControl:{marginNormal:{marginTop:"8px"}}}}),Ga=function(e){function t(){return Object(Ke.a)(this,t),Object(qe.a)(this,Object(Me.a)(t).apply(this,arguments))}return Object(ze.a)(t,e),Object(Qe.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(Be.MuiThemeProvider,{theme:Pa},r.a.createElement(Ua,null)))}}]),t}(n.Component);o.LicenseManager.setLicenseKey("Evaluation_License-_Not_For_Production_Valid_Until_2_July_2019__MTU2MjAyMjAwMDAwMA==caa187fc06c8c340bcb9897b015a3cb5");var Fa=document.getElementById("root");s.a.render(r.a.createElement(c.a,{store:Ve},r.a.createElement(Ga,null)),Fa),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[410,1,2]]]);
//# sourceMappingURL=main.0682b9f9.chunk.js.map